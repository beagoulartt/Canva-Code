library(httr)

headers = c(
  'Content-Type' = 'application/x-www-form-urlencoded'
)

# Define the body of the request with required parameters
body <- list(
  'grant_type' = 'authorization_code',
  'client_id' = 'OC-AZL89v-B4Rxg',
  'client_secret' = 'cnvcaiaTfYFVit29uNLbLUYlI_GuptC0PmVYp-iICP14EOIIff8a2ae9',
  'code' = 'eyJraWQiOiJlODZiMTIwMy1iMWY1LTQ4N2MtYjBiOS0yN2U0MmI2ZjMzZDkiLCJhbGciOiJSUzI1NiJ9.eyJqdGkiOiJjRkZ2Vk5aT19kOFNvZWZibWFkSW1nIiwiY2xpZW50X2lkIjoiT0MtQVpMODl2LUI0UnhnIiwiYXVkIjoiaHR0cHM6Ly93d3cuY2FudmEuY29tIiwiaWF0IjoxNzMyMTIzODA1LCJuYmYiOjE3MzIxMjM4MDUsImV4cCI6MTczMjEyNDQwNSwiYnVuZGxlcyI6WyJBRkZJIiwiUEFJRCJdLCJ0aWVyIjoicGFpZCIsInJvbGVzIjoiNUh0Qk9vSFZJZjd5a0d6eG1adGtHRTFPRmVXMFVXa245OU5HNktQVGNjMUdQUnhzN0VWN2R0TWJlWXpYVXNhaEVCdDR4USIsImxvY2FsZSI6Im95V0tZN2p5My1nQ19zWHM2VmtYdWtqbnZqN1FiRk9ienBGdHRoQVA2SUZabmNpeXB6THBpd2RRZ2NBTkdWb1FudnA5Z3ciLCJzY29wZXMiOlsiYXBwOnJlYWQiLCJhcHA6d3JpdGUiLCJkZXNpZ246Y29udGVudDpyZWFkIiwiZGVzaWduOm1ldGE6cmVhZCIsImRlc2lnbjpjb250ZW50OndyaXRlIiwiZGVzaWduOnBlcm1pc3Npb246cmVhZCIsImRlc2lnbjpwZXJtaXNzaW9uOndyaXRlIiwiZm9sZGVyOnJlYWQiLCJmb2xkZXI6d3JpdGUiLCJmb2xkZXI6cGVybWlzc2lvbjpyZWFkIiwiZm9sZGVyOnBlcm1pc3Npb246d3JpdGUiLCJhc3NldDpyZWFkIiwiYXNzZXQ6d3JpdGUiLCJjb21tZW50OnJlYWQiLCJjb21tZW50OndyaXRlIiwiYnJhbmR0ZW1wbGF0ZTptZXRhOnJlYWQiLCJicmFuZHRlbXBsYXRlOmNvbnRlbnQ6cmVhZCIsInByb2ZpbGU6cmVhZCJdLCJzdWIiOiJvVVZ3bnFUTjRETmtkMGgyQkNUZDZFIiwiYnJhbmQiOiJvQlZ3bjJZazZneGFYSl9jdHh5QWg0Iiwib3JnYW5pemF0aW9uIjpudWxsLCJwa2NlIjoiZm02dk9DUlBTT3FobUtNQTZ1cXV5Zm9INzZsaVVEU1hhVmUxbklxNzdhQjhaOURKYktfZ2owWEYwRS1KR2NuMHc1Tkpaeml5WTctaDRXVTUwYk9Jb25FS3JHYzhrdVJiRDdMUDdrUkpHSlZJa05sUSJ9.DQdTB-XFoiGl8QnXKcgmZAI-TkZ31hNHoie7ZnYVQ-s7TmEJHMGEL_-UTt9HzMRocmhJf2PxUBQnAOpjxPMAj-m0K2mR5hYZU6mWzRbSpr2DoHYe7mNxB-orDcb0SidijmvkVv1SfEQtGgNMfgohoLBykzkUCCrYu5JyKE9WMR93seTr4KWqHsQQo9Isuepxp5XYFmF8-qK_HPzIGp3Rskq_KY7QGIaN_xViQsPkl2PbIa5vz00e29k4nLctwr1-lbVq42tobf7dlDcTXdhCM1PY0BK4iDos2cbNw9UqAlQDgIIYSJl3LXol5hlRRVQ89PiA4hLMYlCsXemiXBxTeg',
  'code_verifier' = 'QrJLTd8ZYyXEfnl_q7-OjSP3WYzMGKpt-x_uNDAtvjmAYF7qzGQ3YMH9KNXz7T~gyPjV0sbQkTnWDbQD7mt3Jg'
)

res <- VERB("POST", url = "https://api.canva.com/rest/v1/oauth/token", body = body, add_headers(headers), encode = 'form')

cat(content(res, 'text')) 